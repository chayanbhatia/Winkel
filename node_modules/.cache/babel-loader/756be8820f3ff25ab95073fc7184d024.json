{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alizahir/Documents/Programming/Web Development /Personal-projects/Winkel-eCommerce/winkel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/alizahir/Documents/Programming/Web Development /Personal-projects/Winkel-eCommerce/winkel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/alizahir/Documents/Programming/Web Development /Personal-projects/Winkel-eCommerce/winkel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Header from'./Components/Header';import Footer from'./Components/Footer';import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Home from'./Components/Home';import Login from'./Components/Login';import Shop from'./Components/Shop';import Product from'./Components/Product';import Cart from'./Components/Cart';import UserContext from'./Components/UserContext';import PrivateRoute from'./config/PrivateRoute';import*as firebaseAuth from'./config/FirebaseAuth';import firebase from'./config/Firebase';function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),User=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),Loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var token=localStorage.getItem('authToken');var updation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var verificationResult;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return firebaseAuth.verifySecuredToken(token);case 2:verificationResult=_context.sent;if(verificationResult!==null){setUser({name:verificationResult.name,email:verificationResult.email,uid:verificationResult.uid});}case 4:case\"end\":return _context.stop();}}},_callee);}));return function updation(){return _ref.apply(this,arguments);};}();if(token){updation();setLoading(false);}else{setLoading(false);}},[]);if(Loading)return/*#__PURE__*/React.createElement(\"p\",null,\"loading\");return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(UserContext.Provider,{value:{User:User,setUser:setUser}},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/\",component:Home,exact:true}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login,exact:true}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/shop\",component:Shop,exact:true}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/shop/:pid\",component:Product,exact:true}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/cart\",component:Cart,exact:true})),/*#__PURE__*/React.createElement(Footer,null))));}export default App;","map":{"version":3,"sources":["/Users/alizahir/Documents/Programming/Web Development /Personal-projects/Winkel-eCommerce/winkel/src/App.js"],"names":["React","useState","useEffect","Header","Footer","BrowserRouter","Router","Switch","Route","Home","Login","Shop","Product","Cart","UserContext","PrivateRoute","firebaseAuth","firebase","App","User","setUser","Loading","setLoading","token","localStorage","getItem","updation","verifySecuredToken","verificationResult","name","email","uid"],"mappings":"koBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA,MAAO,GAAKC,CAAAA,YAAZ,KAA8B,uBAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CAGA,QAASC,CAAAA,GAAT,EAAe,eACWjB,QAAQ,CAAC,IAAD,CADnB,wCACNkB,IADM,eACAC,OADA,8BAEiBnB,QAAQ,CAAC,IAAD,CAFzB,yCAENoB,OAFM,eAEGC,UAFH,eAIbpB,SAAS,CAAC,UAAM,CACd,GAAMqB,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAd,CACA,GAAMC,CAAAA,QAAQ,0FAAG,gLACkBV,CAAAA,YAAY,CAACW,kBAAb,CAAgCJ,KAAhC,CADlB,QACTK,kBADS,eAGf,GAAIA,kBAAkB,GAAK,IAA3B,CAAiC,CAC/BR,OAAO,CAAC,CACNS,IAAI,CAAED,kBAAkB,CAACC,IADnB,CAENC,KAAK,CAAEF,kBAAkB,CAACE,KAFpB,CAGNC,GAAG,CAAEH,kBAAkB,CAACG,GAHlB,CAAD,CAAP,CAKD,CATc,sDAAH,kBAARL,CAAAA,QAAQ,0CAAd,CAWA,GAAIH,KAAJ,CAAW,CACTG,QAAQ,GACRJ,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,IAGO,CACLA,UAAU,CAAC,KAAD,CAAV,CACD,CACF,CAnBQ,CAmBN,EAnBM,CAAT,CAwBA,GAAID,OAAJ,CAAa,mBAAO,uCAAP,CAEb,mBACE,oBAAC,MAAD,mBACE,4CACE,oBAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEF,IAAI,CAAJA,IAAF,CAAQC,OAAO,CAAPA,OAAR,CAA7B,eACE,oBAAC,MAAD,MADF,cAEE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,SAAS,CAAEX,IAA3B,CAAiC,KAAK,KAAtC,EADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAEC,KAAhC,CAAuC,KAAK,KAA5C,EAFF,cAGE,oBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAEC,IAAtC,CAA4C,KAAK,KAAjD,EAHF,cAIE,oBAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,CAAgC,SAAS,CAAEC,OAA3C,CAAoD,KAAK,KAAzD,EAJF,cAKE,oBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAEC,IAAtC,CAA4C,KAAK,KAAjD,EALF,CAFF,cASE,oBAAC,MAAD,MATF,CADF,CADF,CADF,CAiBD,CAED,cAAeK,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Header from './Components/Header'\nimport Footer from './Components/Footer'\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from './Components/Home'\nimport Login from './Components/Login'\nimport Shop from './Components/Shop'\nimport Product from './Components/Product'\nimport Cart from './Components/Cart'\nimport UserContext from './Components/UserContext'\nimport PrivateRoute from './config/PrivateRoute'\nimport * as firebaseAuth from './config/FirebaseAuth'\nimport firebase from './config/Firebase'\n\n\nfunction App() {\n  const [User, setUser] = useState(null);\n  const [Loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n    const updation = async () => {\n      const verificationResult = await firebaseAuth.verifySecuredToken(token);\n\n      if (verificationResult !== null) {\n        setUser({\n          name: verificationResult.name,\n          email: verificationResult.email,\n          uid: verificationResult.uid\n        });\n      }\n    }\n    if (token) {\n      updation();\n      setLoading(false)\n    } else {\n      setLoading(false)\n    }\n  }, [])\n\n\n\n\n  if (Loading) return <p>loading</p>\n\n  return (\n    <Router>\n      <div>\n        <UserContext.Provider value={{ User, setUser }}>\n          <Header />\n          <Switch>\n            <Route path=\"/\" component={Home} exact />\n            <Route path=\"/login\" component={Login} exact />\n            <PrivateRoute path=\"/shop\" component={Shop} exact />\n            <PrivateRoute path=\"/shop/:pid\" component={Product} exact />\n            <PrivateRoute path=\"/cart\" component={Cart} exact />\n          </Switch>\n          <Footer />\n        </UserContext.Provider>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}